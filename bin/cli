#!/usr/bin/env node
var argv = require("optimist").
usage("Usage: $0 -t [type] -c [config] -s [maestro script]").
demand(["t"]).
default("c", "~/.maestro/config.json").
describe("s", "script to run with maestro").
describe("t", "type of server").
describe("c", "config path").
argv;

var outcome = require("outcome"),
maestro = require("../"),
loader;

if(argv.t == "server") {
	loader = maestro(argv.c);

} else {
	loader = maestro.client(argv.c);
}


if(argv.s) loader.require(argv.s);

loader.load(outcome.success(function(){}));